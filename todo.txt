

Todo Immediate

  Feind
  - Mechanik
  - Positionen
  - Defense-Task


  Resistance
  - Mechanik
  - Tasks

  Patrol-Task
  - Diminishing Return

  Decay over Time

  Update für Lage bei Tasks

  Minenpersistenz



Todo Later

  Bestechen und entschädigen Interaktion

  Soldsystem?


Notizen


[_player] onMapSingleClick {
  params ["_this", "_pos", "_units", "_shift", "_alt"];
  _this params ["_player"];
  hint "pfh running";

  //pfh, um zu tracken, ob Map offen ist
  [
    {
      params ["_args", "_handle"];
      if (visibleMap) exitWith {};
      onMapSingleClick "";
      [_handle] call CBA_fnc_removePerFrameHandler;
      hint "handle removed";
    },
    0,
    []
  ] call CBA_fnc_addPerFrameHandler;
};

{

  private _score = _x getVariable ["score", 0];
  switch (true) do {

    case (_score >= 5) : {
      /*
        Blufor
        - Defend Symbol
        Die Ortschaft muss verteidigt werden. Nicht patrouillierte Gebiete können in
        die Hände der Resistance fallen.
        Angrenzende Gebiete haben teilweise Feindinfos oder Infos zu Resistance-Punkten


      */
      [true, format ["defend_%1", (_x getVariable ["name", str _forEachIndex])], [format ["Verteidigen: %1", (_x getVariable ["name", str _forEachIndex])], format ["%1", (_x getVariable ["name", str _forEachIndex])], "Testmarker"], (_x getVariable ["center", [0,0,0]]), "CREATED", -1, false, "defend", true] call bis_fnc_taskCreate;

    };
    case ((_score < 5) && (_score > -5)) : {
      /*
        Independent
        - Zu bestimmendes Symbol
        Die Ortschaft benötigt humanitäre Hilfe, wenn ihr letztes Gefecht nicht lange her ist (<12 Server-Restarts)
        Aufbau-Tasks gibt es bei zerstörten Gebäuden in der Zone
        Sonstige Hilfsgüter braucht es bei schlechter humanitärer Lage

      */
      [true, format ["prt_%1", (_x getVariable ["name", str _forEachIndex])], [format ["Patrouille: %1", (_x getVariable ["name", str _forEachIndex])], format ["%1", (_x getVariable ["name", str _forEachIndex])], "Testmarker"], (_x getVariable ["center", [0,0,0]]), "CREATED", -1, false, "danger", true] call bis_fnc_taskCreate;

    };
    case (_score <= -5) : {
      /*
        Attack Symbol
        Opfor
        Die Ortschaft wird vom Feind kontrolliert und muss freigekämpft werden
        Verschiedene Szenarien möglich:
          1) Feind hat Stellung gehärtet und hat ein MHQ dort
          2) Feind nutzt das Gebiet als Nachschubposten
          3) Feind hat das Gebiet lediglich besetzt aber nicht gehärtet
      */
      [true, format ["attack_%1", (_x getVariable ["name", str _forEachIndex])], [format ["Erobern: %1", (_x getVariable ["name", str _forEachIndex])], format ["%1", (_x getVariable ["name", str _forEachIndex])], "Testmarker"], (_x getVariable ["center", [0,0,0]]), "CREATED", -1, false, "attack", true] call bis_fnc_taskCreate;
    };
    default {

    };

  };




"ButaneCanister"
"keys"
"Laptop_Unfolded"
"Laptop_Closed"
"MobilePhone"
"Money"
"Money"
"Money_bunch"
"Money_roll"
"money_stack"
"money_stack_quest"
"Wallet_ID"
"SatPhone"
"SmartPhone"


[
 findDisplay 46,
 [15000,15000,0],
 [],
 [],
 [],
 [],
 0,
 false,
1000,
 true,
 "CFOR Mission Overview",
 false,
 "\A3\Ui_f\data\logNetworkgos\arma3_white_ca.paa"
] call BIS_fnc_StrategicMapOpen;
